"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[37],{37:(s,e,a)=>{a.r(e),a.d(e,{default:()=>P});var t=a(3),l=a(661);const i={dialogsWrapper:"style_dialogsWrapper__QApCd",dialogsItems:"style_dialogsItems__Miwt-",dialogsListHeader:"style_dialogsListHeader__nNEIe",messagesArea:"style_messagesArea__vytrD",messagesList:"style_messagesList__--6ua",messageInputArea:"style_messageInputArea__7Ber8"};var d=a(475);const r="style_dialogItem__e4xI1",n="style_activeDialog__8SD6u",o="style_dialogAvatarPlaceholder__K4E8g",m="style_dialogName__B5bi+";var c=a(579);const g=s=>{let{id:e,name:a}=s,t="/dialogs/"+e;return(0,c.jsxs)(d.k2,{to:t,className:s=>{let{isActive:e}=s;return e?"".concat(r," ").concat(n):r},children:[(0,c.jsx)("div",{className:o}),(0,c.jsx)("div",{className:m,children:a})]})},_="style_messageItem__LQBPb",u="style_ownMessageItem__X0UaQ",h=s=>{let{message:e,isOwn:a}=s;return(0,c.jsx)("div",{className:a?"".concat(u," ").concat(_):"".concat(_),children:e})};var x=a(379),p=a(986),v=a(43),j=a(858),y=a(155);const N="style_addMessageForm__rrU+Z",A="style_formControl__pjV5E",I="style_messageTextarea__k+S0m",b="style_sendButtonContainer__qzCcA",L="style_sendButton__dGizR",f=["ref"],C=s=>{let{onSubmit:e}=s;const{register:a,handleSubmit:t,formState:{isValid:l}}=(0,j.mN)({mode:"onChange"}),i=a("newMessageBody",{required:!0,minLength:{value:1,message:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},maxLength:{value:20,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}),{ref:d}=i,r=(0,p.A)(i,f);return(0,c.jsxs)("form",{onSubmit:t(e),className:N,children:[(0,c.jsx)("div",{className:A,children:(0,c.jsx)(y.T,(0,x.A)((0,x.A)({},r),{},{ref:d,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",className:I}))}),(0,c.jsx)("div",{className:b,children:(0,c.jsx)("button",{type:"submit",className:L,disabled:!l,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})},w=s=>{let{dialogsPage:e,sendMessage:a,authorizedUserId:t}=s;const l=e,d=l.dialogs.map(s=>(0,c.jsx)(g,{name:s.name,id:s.id},s.id)),r=l.messages.map(s=>(0,c.jsx)(h,{message:s.message,isOwn:s.senderId===t},s.id));return(0,c.jsxs)("div",{className:i.dialogsWrapper,children:[(0,c.jsxs)("div",{className:i.dialogsItems,children:[(0,c.jsx)("div",{className:i.dialogsListHeader,children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"}),(0,c.jsx)("div",{className:i.dialogsList,children:d})]}),(0,c.jsxs)("div",{className:i.messagesArea,children:[(0,c.jsx)("div",{className:i.messagesList,children:r}),(0,c.jsx)("div",{className:i.messageInputArea,children:(0,c.jsx)(C,{onSubmit:s=>{a(s.newMessageBody)}})})]})]})};var B=a(216);let M=s=>({dialogsPage:s.dialogsPage,isAuth:s.auth.isAuth});const P=(0,a(923).Zz)((0,t.Ng)(s=>({dialogsPage:s.dialogsPage,authorizedUserId:s.auth.userId}),s=>({sendMessage:e=>{s((0,l.c)(e))}})),s=>{class e extends v.Component{render(){return this.props.isAuth?(0,c.jsx)(s,(0,x.A)({},this.props)):(0,c.jsx)(B.C5,{to:"/login"})}}return(0,t.Ng)(M)(e)})(w)}}]);
//# sourceMappingURL=37.bfc0d40b.chunk.js.map