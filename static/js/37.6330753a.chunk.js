"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[37],{37:(e,s,a)=>{a.r(s),a.d(s,{default:()=>P});var t=a(3),l=a(661);const i={dialogsWrapper:"style_dialogsWrapper__QApCd",dialogsItems:"style_dialogsItems__Miwt-",dialogsListHeader:"style_dialogsListHeader__nNEIe",messagesArea:"style_messagesArea__vytrD",messagesList:"style_messagesList__--6ua",messageInputArea:"style_messageInputArea__7Ber8"};var d=a(475);const r="style_dialogItem__e4xI1",n="style_activeDialog__8SD6u",o="style_dialogAvatarPlaceholder__K4E8g",c="style_dialogName__B5bi+";var m=a(579);const g=e=>{let{id:s,name:a}=e,t="/dialogs/"+s;return(0,m.jsxs)(d.k2,{to:t,className:e=>{let{isActive:s}=e;return s?"".concat(r," ").concat(n):r},children:[(0,m.jsx)("div",{className:o}),(0,m.jsx)("div",{className:c,children:a})]})},_="style_messageItem__LQBPb",u="style_ownMessageItem__X0UaQ",h=e=>{let{message:s,isOwn:a}=e;return(0,m.jsx)("div",{className:a?"".concat(u," ").concat(_):"".concat(_),children:s})};var x=a(379),p=a(986),v=a(43),j=a(858),y=a(155);const N="style_addMessageForm__rrU+Z",A="style_formControl__pjV5E",I="style_messageTextarea__k+S0m",b="style_sendButtonContainer__qzCcA",L="style_sendButton__dGizR",f=["ref"],w=e=>{let{onSubmit:s}=e;const{register:a,handleSubmit:t,formState:{isValid:l,touchedFields:i}}=(0,j.mN)({mode:"onChange"}),d=a("newMessageBody",{required:!0,minLength:{value:1,message:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},maxLength:{value:20,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}),{ref:r}=d,n=(0,p.A)(d,f);return(0,m.jsxs)("form",{onSubmit:t(s),className:N,children:[(0,m.jsx)("div",{className:A,children:(0,m.jsx)(y.T,(0,x.A)((0,x.A)({},n),{},{ref:r,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",className:I}))}),(0,m.jsx)("div",{className:b,children:(0,m.jsx)("button",{type:"submit",className:L,disabled:!l||!i.newMessageBody,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})},C=e=>{let{dialogsPage:s,sendMessage:a,authorizedUserId:t}=e;const l=s,d=l.dialogs.map(e=>(0,m.jsx)(g,{name:e.name,id:e.id},e.id)),r=l.messages.map(e=>(0,m.jsx)(h,{message:e.message,isOwn:e.senderId===t},e.id));return(0,m.jsxs)("div",{className:i.dialogsWrapper,children:[(0,m.jsxs)("div",{className:i.dialogsItems,children:[(0,m.jsx)("div",{className:i.dialogsListHeader,children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"}),(0,m.jsx)("div",{className:i.dialogsList,children:d})]}),(0,m.jsxs)("div",{className:i.messagesArea,children:[(0,m.jsx)("div",{className:i.messagesList,children:r}),(0,m.jsx)("div",{className:i.messageInputArea,children:(0,m.jsx)(w,{onSubmit:e=>{a(e.newMessageBody)}})})]})]})};var B=a(216);let M=e=>({dialogsPage:e.dialogsPage,isAuth:e.auth.isAuth});const P=(0,a(923).Zz)((0,t.Ng)(e=>({dialogsPage:e.dialogsPage,authorizedUserId:e.auth.userId}),e=>({sendMessage:s=>{e((0,l.c)(s))}})),e=>{class s extends v.Component{render(){return this.props.isAuth?(0,m.jsx)(e,(0,x.A)({},this.props)):(0,m.jsx)(B.C5,{to:"/login"})}}return(0,t.Ng)(M)(s)})(C)}}]);
//# sourceMappingURL=37.6330753a.chunk.js.map