{"version":3,"file":"static/js/297.6fbdfc37.chunk.js","mappings":"6JAAO,MAAMA,EAAWC,IACpB,IAAIA,EAEJ,MAAO,qB,+CCKX,MAAMC,GDF2BC,ECEI,GDFWF,IAC5C,GAAIA,EAAMG,OAASD,EAAW,MAAM,iBAANE,OAAwBF,EAAS,cADlCA,MCIjC,MAAMG,EAAYC,IAA0B,IAAzB,SAAEC,EAAQ,MAAEC,GAAOF,EAClC,MAAM,SAAEG,EAAQ,aAAEC,EAAcC,WAAW,OAAEC,KAAaC,EAAAA,EAAAA,MAEpDC,EAAcA,CAACC,EAAOC,EAAMC,EAAYC,EAAWC,EAAYC,EAAMC,KACvE,MAAMC,EAAkB,CAAC,EAOzB,OANIL,GACAA,EAAWM,QAAQC,IACXA,IAAczB,IAAUuB,EAAgBvB,UAAW,MAK3D0B,EAAAA,EAAAA,MAAA,OAAKC,UAAWL,EAAWM,SAAA,EACvBC,EAAAA,EAAAA,KAACV,GAASW,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAKpB,EAASO,EAAMM,IAAsBH,IACnDJ,IAASa,EAAAA,EAAAA,KAAA,SAAAD,SAAQZ,IACjBK,IAAQQ,EAAAA,EAAAA,KAAA,QAAAD,SAAOP,IACfR,EAAOI,KAASY,EAAAA,EAAAA,KAAA,QAAMF,UAAWI,EAAAA,EAAOC,UAAUJ,SAAEf,EAAOI,GAAMgB,SAAO,GAAA5B,OAAOY,EAAI,sBAKhG,OACIS,EAAAA,EAAAA,MAAA,QAAMlB,SAAUG,EAAaH,GAAUoB,SAAA,CAClCb,EAAY,QAAS,QAAS,CAACf,EAAUE,GAAcgC,EAAAA,EAAO,CAAEC,KAAM,UACtEpB,EAAY,WAAY,WAAY,CAACf,EAAUE,GAAcgC,EAAAA,EAAO,CAAEC,KAAM,aAC5EpB,EAAY,KAAM,aAAc,KAAMmB,EAAAA,EAAO,CAAEC,KAAM,YAAc,cAAeJ,EAAAA,EAAOK,UAEzF3B,IACGoB,EAAAA,EAAAA,KAAA,OAAKF,UAAWI,EAAAA,EAAOM,iBAAiBT,SACnCnB,KAGToB,EAAAA,EAAAA,KAAA,OAAAD,UACIC,EAAAA,EAAAA,KAAA,UAAQM,KAAK,SAAQP,SAAC,gBA4BtC,GAAeU,EAAAA,EAAAA,IAJUC,IAAK,CAC1BC,OAAQD,EAAME,KAAKD,SAGiB,CAAEE,MAAM,MAAhD,CAtBcC,IAAwB,IAAvB,MAAED,EAAK,OAAEF,GAAQG,EAM5B,OAAIH,GACOX,EAAAA,EAAAA,KAACe,EAAAA,GAAQ,CAACC,GAAI,cAIrBnB,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,WACJC,EAAAA,EAAAA,KAACvB,EAAS,CAACE,SAXDsC,IACdJ,EAAMI,EAASC,MAAOD,EAASE,SAAUF,EAASG,mB","sources":["utils/validators/validators.js","components/login/Login.jsx"],"sourcesContent":["export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n ","import styles from \"../common/formsControls/style.module.css\";\r\nimport { Input } from \"../common/formsControls/FormsControl\";\r\nimport { maxLengthCreator, required } from \"../../utils/validators/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../redux/auth-reducer\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\"; \r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nconst LoginForm = ({ onSubmit, error }) => {\r\n    const { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n    const renderField = (label, name, validators, Component, inputProps, text, fieldStyle) => {\r\n        const validationRules = {};\r\n        if (validators) {\r\n            validators.forEach(validator => {\r\n                if (validator === required) validationRules.required = true;\r\n            });\r\n        }\r\n        \r\n        return (\r\n            <div className={fieldStyle}>\r\n                <Component {...register(name, validationRules)} {...inputProps} />\r\n                {label && <label>{label}</label>}\r\n                {text && <span>{text}</span>}\r\n                {errors[name] && <span className={styles.errorText}>{errors[name].message || `${name} is required`}</span>}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}> \r\n            {renderField(\"Email\", \"email\", [required, maxLength30], Input, { type: \"email\" })}\r\n            {renderField(\"Password\", \"password\", [required, maxLength30], Input, { type: \"password\" })}\r\n            {renderField(null, \"rememberMe\", null, Input, { type: \"checkbox\" }, \"remember me\", styles.checkbox)}\r\n            \r\n            {error &&\r\n                <div className={styles.formSummaryError}>\r\n                    {error}\r\n                </div>\r\n            }\r\n            <div>\r\n                <button type=\"submit\">Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst Login = ({ login, isAuth }) => {\r\n    \r\n    const onSubmit = (dataForm) => {\r\n        login(dataForm.email, dataForm.password, dataForm.rememberMe);\r\n    };\r\n\r\n    if (isAuth) {\r\n        return <Navigate to={\"/profile\"} />;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginForm onSubmit={onSubmit} /> \r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ \r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);"],"names":["required","value","maxLength30","maxLength","length","concat","LoginForm","_ref","onSubmit","error","register","handleSubmit","formState","errors","useForm","renderField","label","name","validators","Component","inputProps","text","fieldStyle","validationRules","forEach","validator","_jsxs","className","children","_jsx","_objectSpread","styles","errorText","message","Input","type","checkbox","formSummaryError","connect","state","isAuth","auth","login","_ref2","Navigate","to","dataForm","email","password","rememberMe"],"sourceRoot":""}